/*
 * Flexigrid for jQuery - New Wave Grid
 *
 * Copyright (c) 2011 Paulo P. Marinas (www.flexigrid.info)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * $Version: 2.0
 * $Date: 2011-07-13 16:53:00 +0800 (Tue, 13 Jul 2011) $

*/


var fl_grid=function(){},fl_mod={};
(function(a){fl_grid.prototype={height:"auto",width:"auto",className:"fl-grid",viewtype:"standard",showColumns:!0,page:1,total:1,rp:15,rpOptions:[10,15,20,25,40],fid:0,autorender:!0,column_order:[],dpane:"",url:"",autoload:!1,dataType:"json",method:"POST",timeout:30,onSuccess:!1,onTimeout:!1,onError:!1,fl_hdiv:'<div class="fl-hdiv"><div class="fl-hdiv-inner"><table class="fl-table" cellspacing="0" ><thead></thead></table></div></div>',fl_bdiv:'<div class="fl-bdiv"><div class="fl-bdiv-inner"><table class="fl-table" cellspacing="0" ><tbody></tbody></table></div></div>',fl_fpane:function(a){a||
(a=this.dpane);return'<div class="fl-fpane '+a+' ">'+this.fl_hdiv+this.fl_bdiv+"</div>"},fl_td:'<div class="fl-td-div"></div>',fl_th:'<div class="fl-th-div"></div>',fl_th_con:'<div class="fl-th-con"></div>',fl_view_standard:function(){a(this).append('<div class="fl-grid-inner"><div class="fl-hbdiv">'+this.fl_fpane()+"</div></div>")},render:function(){this.build_events();this.trigger_events("beforeRender");a("*",this).unbind();a(this).empty();if(this["fl_view_"+this.viewtype])this["fl_view_"+this.viewtype]();
else this.fl_view_standard();this.build_header();this.reload();this.sync_scroll();this.trigger_events("afterRender");a(this).show().trigger("resize")},build_events:function(){var a=[],c;for(c in this)"fl_events_"==c.substring(0,10)&&(a[a.length]=c);this.fl_events=a},build_header:function(){this.trigger_events("beforeReload");if(!this.column_order.length){if(this.colModel){var b=[],c;for(c in this.colModel)b[b.length]=c}this.column_order=b}a("thead",this).each(function(){var b=a("<tr />").addClass("fl-tr");
a(this).append(b)});for(b=0;b<this.column_order.length;b++){c=a("<th />");c.addClass("fl-th").addClass("fl-col-"+this.column_order[b]).prop("column_name",this.column_order[b]);var d=this.colModel[this.column_order[b]];a(c).append(d.display).width(d.width);d.align&&a(c).css({"text-align":d.align});!1===d.visible&&a(c).hide();a(c).wrapInner(this.fl_th).append(this.fl_th_con);var e=".fl-fpane";d.pane?e+="-"+d.pane:this.dpane&&(e+="-"+this.dpane);a(e+" thead tr",this).length||(e=".fl-fpane",this.dpane=
"",d.pane="");a(e+" thead tr",this).append(c)}this.trigger_events("afterReload")},reload:function(){var b=a(this).data("rows");if(!b)return!0;var c=(this.page-1)*this.rp,d=c+this.rp;d>b.length&&(d=b.length);for(var e=c;e<d;e++){a(".fl-bdiv tbody",this).each(function(){var b=a("<tr />").addClass("fl-tr").prop("rowid",e);a(this).append(b)});for(var f=this.column_order,g=0;g<f.length;g++){var h=a("<td />").addClass("fl-td").addClass("fl-td-"+f[g]);this.showColumns||a(h).addClass("fl-td-no-col");var k=
this.colModel[f[g]],l=b[e][f[g]];k.beforeDisplay&&(l=k.beforeDisplay(f[g],b[e],this.fid));a(h).append(l);a(h).wrapInner(this.fl_td);e==c&&a(h).width(k.width);k.align&&a(".fl-td-div",h).css({"text-align":k.align});!1===k.visible&&a(h).hide();l=".fl-fpane";k.pane?l+="-"+k.pane:this.dpane&&(l+="-"+this.dpane);a(l+" tbody tr:last",this).append(h)}}a(this).trigger("resize");this.trigger_events("afterReload")},resize:function(){if("auto"==this.height)a(".fl-bdiv",this).height("auto");else{var b=a(this).height(),
c=a(".fl-bdiv:last",this).height(),b=this.height-(b-c);0>b&&(b="auto");a(".fl-bdiv",this).height(b)}a(this).width(this.width);this.trigger_events("afterResize")},resize_column:function(){for(var b=this.column_order,c=0;c<b.length;c++){var d=this.colModel[b[c]];a(".fl-col-"+b[c],this).width(d.width);a(".fl-td-"+b[c]+":first",this).width(d.width)}this.trigger_events("afterColResize")},toggle_column:function(b){var c=this.colModel[b];void 0==c.visible&&(c.visible=!0);var d=".fl-fpane";c.pane?d+="-"+
c.pane:this.dpane&&(d+="-"+this.dpane);d=a(d+" .fl-th:visible",this).length;if(c.visible){if(1==d)return!0;a(".fl-col-"+b,this).hide();a(".fl-td-"+b,this).hide();c.visible=!1}else a(".fl-col-"+b,this).show(),a(".fl-td-"+b,this).show(),c.visible=!0;this.lastToggled=b;this.trigger_events("afterColToggle");return c.visible},sync_scroll:function(){a(".fl-bdiv",this).scroll(function(){var b=this;a(this).prev().each(function(){this.scrollLeft=b.scrollLeft});a(this).parent().siblings().find(".fl-bdiv").each(function(){this.scrollTop=
b.scrollTop})});this.trigger_events("afterSyncScroll")},dragStart:function(){this.dragType&&a(this).trigger("dragStart_"+this.dragType)},dragMove:function(){this.dragType&&a(this).trigger("dragMove_"+this.dragType)},dragEnd:function(){this.dragType&&(a(this).trigger("dragEnd_"+this.dragType),this.dragType="")},disableSelection:function(b){b||(b=this);a(b).bind("selectstart dragstart mousedown",function(a){return!1})},enableSelection:function(b){b||(b=this);a(b).unbind("selectstart dragstart mousedown")},
trigger_events:function(b){var c,d,e=this.fl_events;if(this[b]){var f=this[b];if(a.isArray(f))for(var g in f)a(this).trigger(f[g]);else a(this).trigger(f)}for(c in e)for(d in this[e[c]])if(d==b)if(f=this[e[c]][d],a.isArray(f))for(var h in f)a(this).trigger(e[c].substring(10)+"_"+f[h]);else a(this).trigger(e[c].substring(10)+"_"+f)},firstPage:function(){this.page=1;this.reload()},parseTable:function(){}};a.fn.flexigrid=function(b){var c=[];this.each(function(){var d=this.fid,e=c.length;if(void 0==
d){d="";this.className&&(d=this.className);c[e]="DIV"==this.nodeName?this:document.createElement("div");var f=new fl_grid,g=c[e];a.extend(g,f);if(b.custom)for(var h=0;h<g.custom.length;h++)a.extend(g,fl_mod[g.custom[h]]);else for(h in fl_mod)b.exclude&&-1<a.inArray(h,b.exclude)||a.extend(g,fl_mod[h]);a.extend(g,b);a(g).addClass(d);this.id&&a(g).attr("id",this.id);"DIV"!=this.nodeName&&("TABLE"==this.nodeName&&g.parseTable(this),a(this).before(g),a(this).remove());d=a(".fl-grid").length;g.fid=d;g.autorender?
a(g).trigger("render"):a(g).hide();c[e]=g}else a(this).prop(b),c[e]=this});return a(c)};a("body").mousemove(function(b){a(".fl-grid").prop("mouse_state_now",b).trigger("dragMove")}).bind("mouseup blur",function(b){a(".fl-grid").prop("mouse_state_end",b).trigger("enableSelection").trigger("dragEnd")});a(window).unload(function(){fl_events=fl_grid=null})})(jQuery);
(function(a){fl_mod.fl_colmove={fl_div_colmove:'<div class="fl-colmove"></div>',fl_events_fl_colmove:{afterRender:"addMover"},fl_colmove_addMover:function(){a(".fl-hbdiv",this).prepend(this.fl_div_colmove);a(".fl-th-div",this).mousedown(function(b){var c=a(this).parents(".fl-grid"),d=a(this).parent().prop("column_name");if(!1===a(c).prop("colModel")[d].moveable)return!0;a(c).prop("dragType","colmove").prop("mouse_state_start",b).prop("colTarget",d).trigger("disableSelection").trigger("dragStart").addClass("fl-colmoving")}).mousemove(function(b){var c=
a(this).parents(".fl-grid").get(0);if("colmove"!=c.dragType)return!0;var d=a(this).parents("th").prop("column_name"),e=c.colModel[c.colTarget];if(!1===a(c).prop("colModel")[d].moveable)return!0;var f="left",g=a(this).offset(),h=a(this).width()/2;b.pageX-g.left>h&&(f="right");a(this).parent().removeClass("fl-th-dropleft").removeClass("fl-th-dropright").addClass("fl-th-drop"+f);c.dropDir=f;b=".fl-fpane";e.pane?b+="-"+e.pane:c.dpane&&(b+="-"+c.dpane);1>=a(c).find(b+" thead .fl-th:visible").length?a(c).find(".fl-colmove").addClass("fl-colmove-not-allowed").removeClass("fl-colmove-allowed"):
a(c).find(".fl-colmove").addClass("fl-colmove-allowed").removeClass("fl-colmove-not-allowed");c.dropTarget=d}).mouseleave(function(){var b=a(this).parents(".fl-grid").get(0);if("colmove"!=b.dragType)return!0;a(this).parent().removeClass("fl-th-dropleft").removeClass("fl-th-dropright");a(b).prop("dropTarget","").find(".fl-colmove").removeClass("fl-colmove-allowed").removeClass("fl-colmove-not-allowed")})},set_col_order:function(){var b=[];a(".fl-th",this).each(function(){b[b.length]=this.column_name});
this.column_order=b},dragStart_colmove:function(){var b=this.colTarget,c=this.colModel[b],d=this.mouse_state_start,e=a(".fl-col-"+b,this).offset(),f=a(".fl-hbdiv",this).offset(),g=e.top-f.top,h=e.left-f.left,k=d.pageY-f.top,l=d.pageX-f.left,m=this;this.colTo=setTimeout(function(){a(".fl-col-"+b,m).addClass("fl-th-dragged");var d=a(".fl-colmove",m).empty().append(c.display).css({left:h,top:g}).show(),d=a(".fl-colmove",m).width("auto").width();a(".fl-colmove",m).width(c.width).animate({width:d,left:l,
top:k},"fast");c=m=null},100)},dragMove_colmove:function(){var b=this.mouse_state_now,c=a(".fl-hbdiv",this).offset(),d=b.pageY-c.top,b=b.pageX-c.left;a(".fl-colmove",this).css({left:b,top:d}).show();pos=null},dragEnd_colmove:function(){clearTimeout(this.colTo);var b=this,c=this.colTarget,d=this.colModel[c];a(".fl-col-"+c,this).removeClass("fl-th-dragged");a(".fl-colmove",this).removeClass("fl-colmove-allowed").removeClass("fl-colmove-not-allowed").hide();a(this).removeClass("fl-colmoving");var e=
this.dropTarget;if(!e||e==c)return!0;a(".fl-col-"+e,this).removeClass("fl-th-dropleft").removeClass("fl-th-dropright");var f=this.colModel[e],g=".fl-fpane";d.pane?g+="-"+d.pane:this.dpane&&(g+="-"+this.dpane);var h=".fl-fpane";f.pane?h+="-"+f.pane:this.dpane&&(h+="-"+this.dpane);if(1>=a(g+" thead .fl-th:visible",this).length)return!0;if("left"==this.dropDir){a(".fl-col-"+e,this).before(a(".fl-col-"+c,this));var k=0;a(h+" .fl-bdiv tr",this).each(function(){a(".fl-td-"+e,this).before(a(g+" .fl-bdiv tr:eq("+
k+") .fl-td-"+c,a(b)));k+=1})}else a(".fl-col-"+e,this).after(a(".fl-col-"+c,this)),k=0,a(h+" .fl-bdiv tr",this).each(function(){a(".fl-td-"+e,this).after(a(g+" .fl-bdiv tr:eq("+k+") .fl-td-"+c,a(b)));k+=1});d.pane=f.pane;a(this).trigger("set_col_order").trigger("resize_column");this.dropTarget=this.colTarget=""}}})(jQuery);
(function(a){fl_mod.fl_colres={min_col_width:50,fl_div_coldrag:'<div class="fl-coldrag"></div>',fl_div_colguide:'<div class="fl-colguide"></div>',fl_events_fl_colres:{afterRender:"addResizer"},fl_colres_addResizer:function(){a(".fl-hbdiv",this).prepend(this.fl_div_colguide);a(".fl-th-con",this).append(this.fl_div_coldrag);a(".fl-coldrag",this).mousedown(function(b){a(this).parents(".fl-grid").prop("dragType","colresize").prop("mouse_state_start",b).prop("colTarget",a(this).parents("th").prop("column_name")).trigger("disableSelection").trigger("dragStart").addClass("fl-colresizing")})},
set_colwidth_standard:function(){var b=this.mouse_state_start,c=this.mouse_state_end,d=a(".fl-col-"+this.colTarget,this).width(),d=d+(c.pageX-b.pageX);d<this.min_col_width&&(d=this.min_col_width);this.colModel[this.colTarget].width=d},dragStart_colresize:function(){var b=this.mouse_state_start,c=a(".fl-hbdiv",this).offset(),b=b.pageX-c.left-3;a(".fl-colguide",this).css("left",b).fadeIn()},dragMove_colresize:function(){var b=this.mouse_state_now,c=a(".fl-hbdiv",this).offset(),b=b.pageX-c.left-3;a(".fl-colguide",
this).css("left",b)},dragEnd_colresize:function(){a(".fl-colguide",this).hide();this.dragType="";a(this).removeClass("fl-colresizing");if(this["set_colwidth_"+this.viewtype])this["set_colwidth_"+this.viewtype]();else this.set_colwidth_standard();a(this).trigger("resize_column")}}})(jQuery);
(function(a){fl_mod.fl_fp={fl_view_freezepane:function(){a(this).append('<div class="fl-grid-inner"><div class="fl-hbdiv">'+this.fl_fpane("fl-fpane-left")+this.fl_fpane("fl-fpane-right")+"</div></div>")},fl_events_fl_fp:{beforeRender:"setPane",afterRender:["fixwidth","leftscroll"],afterReload:"sync_hover",afterColResize:"fixwidth",afterColToggle:"fixwidth"},fl_events_fl_fw:{},fl_fp_setPane:function(){"freezepane"==this.viewtype&&(this.dpane="right")},fl_fp_leftscroll:function(){a(".fl-fpane-left .fl-bdiv",
this).bind("mousewheel",function(a,c){var d=0<c?"Up":"Down",e=Math.abs(c);console.log(d+" at a velocity of "+e);return!1})},fl_fp_fixwidth:function(){if("freezepane"==this.viewtype){var b=a(".fl-fpane-left .fl-table",this).outerWidth();a(".fl-fpane-left",this).width(b-1);a(".fl-fpane-right",this).css("margin-left",a(".fl-fpane-left",this).outerWidth())}},fl_fp_sync_hover:function(){a(".fl-bdiv tr",this).hover(function(){if(a(this).parents(".fl-grid").get(0).dragType)return!1;var b=a("tr",a(this).parent()).index(this);
a(this).parents(".fl-fpane").siblings().find(".fl-bdiv tr:eq("+b+")").addClass("fl-tr-hover")},function(){if(a(this).parents(".fl-grid").get(0).dragType)return!1;var b=a("tr",a(this).parent()).index(this);a(this).parents(".fl-fpane").siblings().find(".fl-bdiv tr:eq("+b+")").removeClass("fl-tr-hover")})}};a(window).resize(function(){a(".fl-grid-fw").trigger("fl_fp_fixwidth")})})(jQuery);
(function(a){fl_mod.fl_fw={fl_view_fullwidth:function(){a(this).addClass("fl-grid-fw");a(this).append('<div class="fl-grid-inner"><div class="fl-hbdiv">'+this.fl_fpane()+"</div></div>")},fl_events_fl_fw:{afterResize:["fixwidth"]},fl_fw_fixwidth:function(){if("fullwidth"==this.viewtype){var b=a(".fl-hdiv .fl-table",this).innerWidth(),c=a(".fl-bdiv .fl-table",this).innerWidth();b>c?a(".fl-hdiv",this).addClass("fl-addyscroll"):c>b&&a(".fl-hdiv",this).removeClass("fl-addyscroll")}},set_colwidth_fullwidth:function(){if("fullwidth"==
this.viewtype){var b=this.mouse_state_start,c=this.mouse_state_end,d=a(".fl-col-"+this.colTarget,this);d.width();var c=c.pageX-b.pageX,b=a(this).width(),c=Math.ceil(c/b*100),d=a(d).next().length?a(d).next().get(0):a(d).prev().get(0),e=a(d).prop("column_name"),d=this.colModel[this.colTarget],e=this.colModel[e],f=parseInt(d.width),g=parseInt(e.width),h=g-c,c=f+c,b=Math.ceil(this.min_col_width/b*100);c<b&&(c=b,h=f+g-b);h<b&&(h=b,c=f+g-b);d.width=c+"%";e.width=h+"%"}}}})(jQuery);
(function(a){a.extend(fl_mod.fl_menu,{fl_events_freeze_menu:{beforeTogColClick:"set_freeze_status"},freeze_menu_set_freeze_status:function(){a(".fl-col-"+this.colTarget,this).parents(".fl-fpane-left").length?a(".fl-menu-key-freeze_pane .fl-label",this).html("Unfreeze Pane"):a(".fl-menu-key-freeze_pane .fl-label",this).html("Freeze Pane")},freeze_pane:function(){"Freeze Pane"==a(".fl-menu-key-freeze_pane .fl-label",this).text()?this.dropTarget=a(".fl-fpane-left .fl-th:last",this).prop("column_name"):
this.dropTarget=a(".fl-fpane-right .fl-th:last",this).prop("column_name");this.dropDir="right";a(this).trigger("dragEnd_colmove");a(this.fl_menu).hide()}})})(jQuery);
(function(a){fl_mod.fl_menu={menu_items:[{type:"submenu",display:"Toggle Columns",subgroup:[{type:"column_tog",sub_list:"column_order"}]},{type:"separator"},{type:"trigger",sub_list:"fl_menu_align"}],fl_menu_align:[{type:"trigger",action:"align_column",display:"Align Left",value:"left"},{type:"trigger",action:"align_column",display:"Align Center",value:"center"},{type:"trigger",action:"align_column",display:"Align Right",value:"right"}],fl_menu_table:'<table class="fl-menu-table" cellspacing="0" ></table>',
fl_menu_col1:'<td class="fl-menu-td fl-menu-col1"><span class="fl-icon"></span></td>',fl_menu_col2:function(a){return'<td class="fl-menu-td fl-menu-col2"><span class="fl-label">'+a+"</span></td>"},fl_menu_col3:'<td class="fl-menu-td fl-menu-col3"><span class="fl-icon"></span></td>',fl_coltog:'<div class="fl-coltog"><div class="fl-coltog-inner"></div></div>',fl_events_fl_menu:{afterRender:["init"],afterColToggle:"update_togs"},fl_menu_init:function(){var b=this.menu_items;if(!b.length)return!0;this.fl_menu=
a('<div class="fl-menu" />').append(this.fl_menu_table);a(this).prepend(this.fl_menu);a("table",this.fl_menu).append(this.fl_menu_build_items(b));this.disableSelection(this.fl_menu);this.fl_menu_build_toggle()},fl_menu_build_items:function(b){for(var c=a('<tbody class="fl-menu-body" />'),d=0;d<b.length;d++)if(b[d].sub_list){var e=this[b[d].sub_list],f;for(f in e){var g=this["fl_menu_item_"+b[d].type](f,e[f]);a(c).append(g)}}else this["fl_menu_item_"+b[d].type]&&(g=this["fl_menu_item_"+b[d].type](d,
b[d]),a(c).append(g));return c},fl_menu_build_toggle:function(){a(".fl-th-con",this).append(this.fl_coltog);a(".fl-coltog",this).click(function(){var b=a(this).parents(".fl-grid").get(0);a(b).prop("colTarget",a(this).parents("th").prop("column_name"));b.trigger_events("beforeTogColClick");var c=a(this).offset(),d=a(b).offset(),e=c.left-d.left,c=c.top-d.top+a(this).height(),d=a(b).width(),f=a(b.fl_menu).width();e+f>d&&(e=e-f+a(this).width());d=e+"px";f=a(b.fl_menu).css("left");d==f?a(b.fl_menu).toggle("fast"):
(a(b.fl_menu).css({left:e,top:c}).show("fast"),a(".fl-coltogged",b).removeClass("fl-coltogged"));a(this).toggleClass("fl-coltogged")});a(".fl-menu:first",this).mouseleave(function(){a(this).hide();a(".fl-coltogged").removeClass("fl-coltogged")});a(this).mouseleave(function(){a(".fl-menu:first",this).hide();a(".fl-coltogged").removeClass("fl-coltogged")})},fl_menu_item_trigger:function(b,c){var d=this;c.name&&(b=c.name);var e=a('<tr class="fl-menu-tr fl-menu-key-'+b+'" />').append(this.fl_menu_col1).append(this.fl_menu_col2(c.display)).append(this.fl_menu_col3).click(function(){var b=
!1;c.value&&(b=c.value);if(d[c.action])d[c.action](b,d.fid);else a(".fl-label",this).addClass("fl-label-disabled")});c.class_name&&a(e).addClass(c.class_name);return e},fl_menu_item_separator:function(b,c){return a('<tr class="fl-menu-br" />').append('<td class="fl-menu-td" colspan="3"><div class="fl-menu-br-div"></div></td>')},fl_menu_item_submenu:function(b,c){var d=a('<tr class="fl-menu-tr fl-menu-sm" />').append(this.fl_menu_col1).append(this.fl_menu_col2(c.display)).append('<td class="fl-menu-td fl-menu-col3"><span class="fl-submenu"></span></td>'),
e=a('<div class="fl-menu" />').append(this.fl_menu_table);a("table",e).append(this.fl_menu_build_items(c.subgroup));a(d).mouseover(function(){var b=a(this).parents(".fl-grid").get(0),c=parseInt(a(b.fl_menu).css("left")),d=a(b).width(),b=a(b.fl_menu).width(),e=a(".fl-menu:first",this).width(),l=a(".fl-submenu",this).position();c+b+e>=d?a(".fl-menu:first",this).css("left",0-e-l.left):a(".fl-menu:first",this).css("left",b-l.left)});a(".fl-submenu",d).append(e);return d},fl_menu_update_togs:function(){var b=
this.lastToggled;cm=this.colModel[b];a(".fl-cb[value="+b+"]",this.fl_menu).prop("checked",cm.visible)},fl_menu_item_column_tog:function(b,c){if(c.display)var d=c,e=b;else d=this.colModel[c],e=c;var f='checked="checked"';!1===d.visible&&(f="");if(!1===d.toggleable)return!0;d=a('<tr class="fl-menu-tr fl-column-tog" />').append('<td class="fl-menu-td fl-menu-col1"><input type="checkbox" autocomplete="off" class="fl-cb" '+f+' value="'+e+'" /></td>').append(this.fl_menu_col2(d.display)).append(this.fl_menu_col3);
a("input",d).change(function(b){this.checked=a(this).parents(".fl-grid").get(0).toggle_column(e)}).parent().siblings().click(function(b){a(this).siblings().find("input").trigger("change")});return d},align_column:function(b){var c=this.colTarget;if(!c)return!0;b&&(a(".fl-td-"+c+" .fl-td-div",this).css("text-align",b),a(".fl-col-"+c+" .fl-th-div",this).css("text-align",b),this.colModel[c].align=b)}}})(jQuery);(function(a){fl_mod.fl_table_parser={parseTable:function(b){a("thead th",b).each(function(){})}}})(jQuery);
(function(a){fl_mod.fl_titlebar={titleText:!1,gridToggle:!0,fl_title:'<div class="fl-title" ><div class="fl-title-inner"></div></div>',fl_titletog:'<button type="button" type="button" class="fl-button fl-title-tog" ><span class="fl-icon"></span></button>',fl_events_fl_titlebar:{afterRender:"init"},fl_titlebar_init:function(){if(!this.titleText)return!1;a(".fl-grid-inner",this).prepend(this.fl_title);a(".fl-title-inner",this).append(this.titleText);this.titleIcon&&a(".fl-title-inner",this).prepend(this.fl_icon);
this.gridToggle&&(a(".fl-title",this).append(this.fl_titletog),a(".fl-title-tog",this).click(function(){a(this).toggleClass("fl-title-tog-up");a(this).parents(".fl-title").siblings().slideToggle("fast")}))}}})(jQuery);
(function(a){fl_mod.fl_toolbar={fl_tb_pager:{items:{first:{type:"button",class_name:"fl-button-first",title:"Go to First"},prev:{type:"button",class_name:"fl-button-prev"},next:{type:"button",class_name:"fl-button-next"},last:{type:"button",class_name:"fl-button-last"},reload:{type:"button",class_name:"fl-button-reload",display:"Reload"}},place:"header"},fl_header:'<div class="fl-header"></div>',fl_footer:'<div class="fl-footer"></div>',fl_toolbar:'<div class="fl-toolbar" />',fl_button:'<button type="button" class="fl-button" />',
fl_icon:'<span class="fl-icon"></span>',fl_button_label:'<span class="fl-button-label"></span>',fl_events_fl_toolbar:{afterRender:"init"},fl_toolbar_init:function(){this.toolbars&&this.build_toolbars()},build_toolbars:function(){var b=this.toolbars,c;for(c in b){var d=b[c];"string"==typeof d&&(d={type:d});d.type&&this["fl_tb_"+d.type]&&(d=a.extend(!0,{},this["fl_tb_"+d.type],d));d.place||(d.place="header");a(".fl-"+d.place,this).length||("header"==d.place?a(this.fl_header).insertBefore(a(".fl-hbdiv",
this)):a(this.fl_footer).insertAfter(a(".fl-hbdiv",this)));var e=a(this.fl_toolbar);e.addClass("fl-toolbar-"+c);d.width&&a(e).width(d.width);d.align&&a(e).css("text-align",d.align);!1===d.visible&&a(e).hide();if(d.items){if(!d.item_order){var f=[],g;for(g in d.items)f[f.length]=g;d.item_order=f}for(f=0;f<d.item_order.length;f++){var h="";g=d.item_order[f];var k=d.items[g];"fl_toolbar_item_"+k.type&&(h=this["fl_toolbar_item_"+k.type](g,k));a(e).append(h)}}a(e).wrapInner('<div class="fl-toolbar-inner"></div>');
a(".fl-"+d.place,this).append(e)}},fl_toolbar_item_button:function(b,c){var d=a(this.fl_button);c.class_name&&(d.addClass(c.class_name),d.append(this.fl_icon));c.title&&d.attr("title",c.title);!1===c.visible&&d.hide();if(c.display){var e=a(this.fl_button_label).append(c.display);d.append(e)}var f=this;c.action&&d.click(function(){var a=!1;c.value&&(a=c.value);if(f[c.action])f[c.action](a,f.fid)});return d}}})(jQuery);